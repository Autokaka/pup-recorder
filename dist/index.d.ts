// Generated by dts-bundle-generator v9.5.1

import { ChildProcess, SpawnOptions } from 'child_process';

export declare const pupAppPath: string;
export declare const pupLogLevel: number;
export declare const pupUseInnerProxy: boolean;
export declare const pupFFmpegPath: string;
export type EnvParser<T> = (value: unknown) => T;
export declare function penv<T>(name: string, parser: EnvParser<T>, defaultValue: T): T;
export declare function penv<T>(name: string, parser: EnvParser<T>, defaultValue?: T): T | undefined;
export declare class Lazy<T> {
	readonly makeValue: () => T;
	constructor(makeValue: () => T);
	get value(): T;
	get initialized(): boolean;
	private _initialized;
	private _value;
}
export declare class ConcurrencyLimiter {
	readonly maxConcurrency: number;
	private _active;
	private _queue;
	private _pending;
	private _ended;
	constructor(maxConcurrency: number);
	get active(): number;
	get pending(): number;
	schedule<T>(fn: () => Promise<T>): Promise<T>;
	end(): Promise<void>;
	private next;
}
export interface LoggerLike {
	debug?(this: void, ...messages: unknown[]): void;
	info?(this: void, ...messages: unknown[]): void;
	warn?(this: void, ...messages: unknown[]): void;
	error?(this: void, ...messages: unknown[]): void;
}
declare class Logger implements LoggerLike {
	private _impl?;
	get impl(): LoggerLike | undefined;
	set impl(value: LoggerLike);
	constructor();
	debug(...messages: unknown[]): void;
	info(...messages: unknown[]): void;
	warn(...messages: unknown[]): void;
	error(...messages: unknown[]): void;
	fatal(...messages: unknown[]): never;
	private dispatch;
	attach(proc: ChildProcess, name: string): Promise<void>;
}
export declare const logger: Logger;
export declare function noerr<Fn extends (...args: any[]) => any, D>(fn: Fn, defaultValue: D): (...args: Parameters<Fn>) => ReturnType<Fn> | D;
export declare function parseNumber(value: unknown): number;
export declare const PUP_ARGS_ENV_KEY = "__PUP_ARGS__";
export declare function pargs(): string[];
export interface ProcessHandle {
	process: ChildProcess;
	wait: Promise<void>;
}
export declare function exec(cmd: string, options?: SpawnOptions): ProcessHandle;
export interface RetryOptions<Args extends any[], Ret> {
	fn: (...args: Args) => Promise<Ret>;
	maxAttempts?: number;
	timeout?: number;
}
export declare function useRetry<Args extends any[], Ret>({ fn, maxAttempts, timeout, }: RetryOptions<Args, Ret>): (...args: Args) => Promise<Ret>;
export declare function sleep(ms: number): Promise<void>;
export declare function periodical(callback: (count: number) => Promise<void> | void, ms: number): () => void;
export type AbortQuery = () => Promise<boolean> | boolean;
export type PupProgressCallback = (progress: number) => Promise<void> | void;
export interface PupOptions {
	withAlphaChannel?: boolean;
	width?: number;
	height?: number;
	fps?: number;
	duration?: number;
	outDir?: string;
	cancelQuery?: AbortQuery;
	onProgress?: PupProgressCallback;
}
export declare function pup(source: string, options: PupOptions): Promise<{
	width: number;
	height: number;
	fps: number;
	duration: number;
	cover: string;
	mp4?: string;
	webm?: string;
	mov?: string;
}>;

export {};

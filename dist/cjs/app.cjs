'use strict';require('source-map-support/register.js');var electron=require('electron'),fs=require('fs'),path=require('path'),url=require('url'),systeminformation=require('systeminformation'),promises=require('fs/promises'),promises$1=require('timers/promises'),commander=require('commander'),R=require('zod');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var R__default=/*#__PURE__*/_interopDefault(R);var Je=Object.create;var q=Object.defineProperty;var Xe=Object.getOwnPropertyDescriptor;var me=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),F=t=>{throw TypeError(t)};var fe=(t,e,r)=>e in t?q(t,e,{enumerable:true,configurable:true,writable:true,value:r}):t[e]=r;var he=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ge=t=>[,,,Je(null)],we=["class","method","getter","setter","accessor","field","value","get","set"],C=t=>t!==void 0&&typeof t!="function"?F("Function expected"):t,Qe=(t,e,r,o,s)=>({kind:we[t],name:e,metadata:o,addInitializer:n=>r._?F("Already initialized"):s.push(C(n||null))}),V=(t,e)=>fe(e,me("metadata"),t[3]),be=(t,e,r,o)=>{for(var s=0,n=t[e>>1],c=n&&n.length;s<c;s++)n[s].call(r);return o},I=(t,e,r,o,s,n)=>{var i,d,f,u,a=e&7,D=false,g=false,w=2,T=we[a+5],x=t[w]||(t[w]=[]),h=((s=s.prototype),Xe(s,r));for(var P=o.length-1;P>=0;P--)f=Qe(a,r,d={},t[3],x),(f.static=D,f.private=g,u=f.access={has:l=>r in l},(u.get=l=>l[r]),a>2),i=(0, o[P])(h[T],f),d._=1,C(i)&&(h[T]=i);return h&&q(s,r,h),s},xe=(t,e,r)=>fe(t,e+"",r);var tt=()=>typeof document>"u"?new URL(`file:${__filename}`).href:document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"?document.currentScript.src:new URL("main.js",document.baseURI).href,p=tt();var y=path.dirname(url.fileURLToPath(p));function Re(t,e,r){try{return e(process.env[t])}catch{return r}}function _(t){if(typeof t=="number")return t;let e=Number(t);if(Number.isNaN(e))throw new Error(`Value ${t} is not a valid number`);return e}var it=[path.join(y,"cjs/app.cjs"),path.join(y,"app.cjs"),path.join(y,"../../cjs/app.cjs")];it.find(fs.existsSync);var X=process.env,L=Re("PUP_LOG_LEVEL",_,2),Q=X.PUP_USE_INNER_PROXY==="1";X.FFMPEG_BIN??"ffmpeg";X.PUP_DISABLE_GPU==="1";var Z="<pup@debug>",ee="<pup@info>",te="<pup@warn>",re="<pup@error>",oe="<pup@fatal>";function k(t,e){return function(...r){let o=r.map(s=>s instanceof Error?s.stack??String(s):s);return t.call(this,...o)}}var Te,ye,_e,Ee,ve,E;ve=[k],Ee=[k],_e=[k],ye=[k],Te=[k];var b=class{constructor(){be(E,5,this);xe(this,"_impl");this.impl=console;}get impl(){return this._impl}set impl(e){let r=e.debug??console.debug,o=e.info??console.info,s=e.warn??console.warn,n=e.error??console.error;this._impl={debug:L>=3?r:void 0,info:L>=2?o:void 0,warn:L>=1?s:void 0,error:L>=0?n:void 0};}debug(...e){this.impl?.debug?.(Z,...e);}info(...e){this.impl?.info?.(ee,...e);}warn(...e){this.impl?.warn?.(te,...e);}error(...e){this.impl?.error?.(re,...e);}fatal(...e){this.impl?.error?.(oe,...e),process.exit(1);}dispatch(e){e.startsWith(Z)?this.debug(e.slice(Z.length+1)):e.startsWith(ee)?this.info(e.slice(ee.length+1)):e.startsWith(te)?this.warn(e.slice(te.length+1)):e.startsWith(re)?this.error(e.slice(re.length+1)):this.info(e);}attach(e,r){return new Promise((o,s)=>{this.debug(`${r}.attach`);let n="",c=i=>{let d=i.toString();d.startsWith(oe)?n+=d.slice(oe.length+1):this.dispatch(d);};e.stderr?.on("data",c),e.stdout?.on("data",c),e.on("message",c).on("error",i=>{n+=i.message,e.kill();}).once("close",(i,d)=>{i||d||n?(n||=`command failed: ${e.spawnargs.join(" ")}`,this.debug(`${r}.close`,{code:i,signal:d,fatal:n}),s(new Error(n))):(this.debug(`${r}.close`),o());}).on("unhandledRejection",i=>{this.error(`${r}.unhandled`,i);}).on("uncaughtExceptionMonitor",i=>{this.error(`${r}.unhandled`,i);});})}};E=ge(),I(E,1,"debug",ve,b),I(E,1,"info",Ee,b),I(E,1,"warn",_e,b),I(E,1,"error",ye,b),I(E,1,"fatal",Te,b),V(E,b);var m=new b;var ct="[HWAccel]";async function pt(){let{controllers:t}=await systeminformation.graphics();return t.some(e=>e.vendor.length)}pt().then(t=>(m.debug(ct,"GPU detected:",t),t));var Pe="--pup-priv-args";function Se(){let t=process.argv,e=t.find(o=>o.startsWith(Pe));if(!e)return m.debug("procargv",t),process.argv;let r=["exec",...t.slice(-1)];return e=Buffer.from(e.split("=")[1],"base64").toString(),r.push(...JSON.parse(e)),m.debug("pupargs",r),r}var Ae=["no-sandbox","disable-setuid-sandbox","disable-dev-shm-usage","disable-web-security","disable-site-isolation-trials","disable-features=IsolateOrigins,site-per-process","allow-insecure-localhost","ignore-certificate-errors","disable-blink-features=AutomationControlled","mute-audio","disable-extensions","disable-background-networking","address-family=ipv4","disable-async-dns","force-device-scale-factor=1","trace-warnings","force-color-profile=srgb","disable-color-correct-rendering","log-level=3","ignore-gpu-blocklist","gpu-shader-disk-cache-size-kb=524288"],Ie=[...Ae,"use-gl=angle","use-angle=swiftshader","enable-unsafe-swiftshader"];[...Ae,"in-process-gpu","use-gl=angle",process.platform==="darwin"?"use-angle=metal":process.platform==="win32"?"use-angle=d3d11":"use-angle=vulkan"];var{platform:lt,arch:mt}=process,Ce=`rust/${lt}-${mt}.node`,ft=[path.join(y,`../../${Ce}`),path.join(y,`../${Ce}`)],ht=he(ft.find(fs.existsSync)),Fe=ht.FixedBufferWriter;function Le(t,e){let{width:r,height:o}=e;return `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: ${r}px; height: ${o+1}px; overflow: hidden; }
    #target { 
      position: absolute; 
      top: 0; 
      left: 0; 
      width: ${r}px; 
      height: ${o}px; 
      border: none; 
      display: block;
    }
    #stego { 
      position: absolute; 
      top: ${o}px; 
      left: 0; 
      width: ${r}px; 
      height: 1px; 
      display: block;
      image-rendering: pixelated;
    }
  </style>
</head>
<body>
  <iframe id="target" src="${t}"></iframe>
  <canvas id="stego" width="${r}" height="1"></canvas>
  <script>
    (function() {
      const WIDTH = ${r};
      const MARKER_WIDTH = 32;
      const canvas = document.getElementById('stego');
      const ctx = canvas.getContext('2d', { willReadFrequently: true });
      let startTime = null;
      let rafId = null;

      function encodeTimestamp(timestampMs) {
        const imageData = ctx.createImageData(WIDTH, 1);
        const data = imageData.data;
        
        const timestampInt = Math.floor(timestampMs) >>> 0;
        
        for (let i = 0; i < MARKER_WIDTH; i++) {
          const bit = (timestampInt >>> (MARKER_WIDTH - 1 - i)) & 1;
          const value = bit ? 255 : 0;
          const idx = i * 4;
          data[idx] = value;
          data[idx + 1] = value;
          data[idx + 2] = value;
          data[idx + 3] = 255;
        }
        
        for (let i = MARKER_WIDTH; i < WIDTH; i++) {
          const idx = i * 4;
          data[idx] = 0;
          data[idx + 1] = 0;
          data[idx + 2] = 0;
          data[idx + 3] = 255;
        }
        
        ctx.putImageData(imageData, 0, 0);
      }

      function updateLoop() {
        if (startTime === null) return;
        const elapsed = performance.now() - startTime;
        encodeTimestamp(elapsed);
        rafId = requestAnimationFrame(updateLoop);
      }

      window.__pup_start_recording__ = () => {
        startTime = performance.now();
        encodeTimestamp(0);
        requestAnimationFrame(updateLoop);
      };

      window.__pup_stop_recording__ = () => {
        if (rafId !== null) {
          cancelAnimationFrame(rafId);
          rafId = null;
        }
      };
    })();
  </script>
</body>
</html>`}function ke(t,e){let{width:r,height:o}=e;if(r<32||o<2)return;let s=o-1,n=0;for(let c=0;c<32;c++){let i=(s*r+c)*4,f=(t[i]??0)>127?1:0;n=n<<1|f;}if(n=n>>>0,!(!Number.isFinite(n)||n<0||n>1e7))return n}function Ue(t){return t.sendCommand("Runtime.evaluate",{expression:"window.__pup_start_recording__()"})}function $e(t){return t.sendCommand("Runtime.evaluate",{expression:"window.__pup_stop_recording__()"})}function Oe(t){let e=t.getSize();return e.width===0||e.height===0?true:t.isEmpty()}var ne=["file:","http:","https:","data:"],gt=/^(file:|https?:|data:)/;function We(t){if(gt.test(t))return;let e=t.split(":")[0]+":",r=ne.includes(e)?`unsupported protocol: ${e}, expected ${ne.join(", ")}`:`invalid source format, expected ${ne.join(", ")}`;throw new Error(r)}var xt="[Proxy]",Rt=new Map([["jssz-boss.hdslb.com","jssz-boss.bilibili.co"],["boss.hdslb.com","shjd-boss.bilibili.co"]]);function ie(t){if(!t.startsWith("http"))return t;let e=new url.URL(t),r=Rt.get(e.hostname);return r?(e.hostname=r,e.protocol="http:",e.toString()):t}function Ne(){electron.session.defaultSession.webRequest.onBeforeRequest((t,e)=>{let r=t.url,o=ie(r);if(o===r)return e({cancel:false});m.debug(xt,`${r} -> ${o}`),e({cancel:false,redirectURL:o});});}function Me(t){return new Promise(e=>setTimeout(e,t))}function Be({fn:t,maxAttempts:e=3,timeout:r}){let o=new Error(`timeout over ${r}ms`);return async function(...s){let n=0;for(;;)try{let c=[t(...s)];return r&&c.push(promises$1.setTimeout(r).then(()=>{throw o})),await Promise.race(c)}catch(c){if(n++,n>=e)throw c;await Me(Math.pow(2,n)*100+Math.random()*100);}}}var Et="[Window]";function He(t,e){return new Promise((r,o)=>{let s=setTimeout(()=>o(new Error("load window timeout")),2e4),n=c=>{clearTimeout(s),c?o(c):r();};t.webContents.once("did-finish-load",()=>n()),t.webContents.once("did-fail-load",(c,i,d,f)=>n(new Error(`failed to load ${f}: [${i}] ${d}`))),t.webContents.once("render-process-gone",(c,{exitCode:i,reason:d})=>n(new Error(`renderer crashed: ${i}, ${d}`))),e();})}async function vt(t,e,r){We(e);let{width:o,height:s,useInnerProxy:n}=r;electron.session.defaultSession.webRequest.onHeadersReceived(({responseHeaders:u},a)=>{delete u?.["x-frame-options"],delete u?.["X-Frame-Options"],delete u?.["content-security-policy"],delete u?.["Content-Security-Policy"],a({cancel:false,responseHeaders:u});});let c=e;n&&(c=ie(e),Ne());let i=new electron.BrowserWindow({width:o,height:s+1,show:false,transparent:true,backgroundColor:void 0,webPreferences:{offscreen:true,backgroundThrottling:false,nodeIntegration:true,contextIsolation:false,webSecurity:false,allowRunningInsecureContent:true,experimentalFeatures:true}});t.splice(0).forEach(u=>u.destroy()),t.push(i),i.webContents.on("console-message",({level:u,message:a})=>{u==="error"&&m.error(Et,"console:",a);});let d=Le(c,{width:o,height:s}),f=`data:text/html;charset=utf-8,${encodeURIComponent(d)}`;return await He(i,()=>i.loadURL(f)),i}async function ze(t,e){let r=[],o=await Be({fn:vt,maxAttempts:2})(r,t,e);return await He(o,()=>o.reload()),o}var se="[Record]";async function je(t,e){m.info(se,"progress: 0%");let{outDir:r,fps:o,width:s,height:n,duration:c}=e,i=await ze(t,e);await promises.mkdir(r,{recursive:true});let d=i.webContents.debugger;d.attach("1.3"),i.webContents.setFrameRate(o),i.webContents.isPainting()||i.webContents.startPainting();let f=path.join(r,"output.bgra"),u=Math.ceil(o*c),a=1e3/o,D=s*n*4,g=new Fe(f,D,o),w=0,T,v=0,x,h,P,l=A=>{w++;try{g.write(A);}catch(O){x??=O;}},S=(A,O,G)=>{if(x){P?.(x);return}if(w>=u){h?.();return}if(Oe(G))return;let ae=G.toBitmap(),W=ke(ae,G.getSize());if(W===void 0){x??=new Error(`no timestamp @ ${w}`);return}let Ve=s*4,j=ae.subarray(0,n*Ve);if(T===void 0){l(j),T=W;return}let K=W-T;if(K<a*.8)return;if(K<=a*1.2)l(j);else {let Ye=Math.round(K/a);for(let pe=0;pe<Ye&&w<u;pe++)l(j);}T=W;let ce=Math.floor(w/u*100);Math.abs(ce-v)>10&&(v=ce,m.info(se,`progress: ${Math.round(v)}%`));};i.webContents.on("paint",S),await Ue(d);try{await new Promise((A,O)=>[h,P]=[A,O]);}finally{await $e(d),i.webContents.off("paint",S),await g.close();}if(x||w===0)throw x??new Error("no frames captured");try{let A={options:e,written:w,bgraPath:f};await promises.writeFile(path.join(r,"record.json"),JSON.stringify(A)),m.info(se,`progress: 100%, ${w} frames written`);}finally{i.close();}}function U(t,e){return (...r)=>{try{let o=t(...r);return o instanceof Promise?o.catch(()=>e):o}catch{return e}}}var N=1920,M=1080,B=30,H=5,z="out";R__default.default.object({duration:R__default.default.number().optional().default(H).describe("Recording duration in seconds"),width:R__default.default.number().optional().default(N).describe("Video width"),height:R__default.default.number().optional().default(M).describe("Video height"),fps:R__default.default.number().optional().default(B).describe("Frames per second"),withAlphaChannel:R__default.default.boolean().optional().default(false).describe("Output with alpha channel"),outDir:R__default.default.string().optional().default(z).describe("Output directory"),useInnerProxy:R__default.default.boolean().optional().default(false).describe("Use bilibili inner proxy for resource access")});function qe(t,e){commander.program.name(t).argument("<source>","file://, http(s)://, \u6216 data: URI").option("-w, --width <number>","\u89C6\u9891\u5BBD\u5EA6",`${N}`).option("-h, --height <number>","\u89C6\u9891\u9AD8\u5EA6",`${M}`).option("-f, --fps <number>","\u5E27\u7387",`${B}`).option("-t, --duration <number>","\u5F55\u5236\u65F6\u957F\uFF08\u79D2\uFF09",`${H}`).option("-o, --out-dir <path>","\u8F93\u51FA\u76EE\u5F55",`${z}`).option("-a, --with-alpha-channel","\u8F93\u51FA\u5305\u542B alpha \u901A\u9053\u7684\u89C6\u9891",false).option("--use-inner-proxy","\u4F7F\u7528 B \u7AD9\u5185\u7F51\u4EE3\u7406\u52A0\u901F\u8D44\u6E90\u8BBF\u95EE",Q).action(async(r,o)=>{try{await e(r,{width:U(_,N)(o.width),height:U(_,M)(o.height),fps:U(_,B)(o.fps),duration:U(_,H)(o.duration),outDir:o.outDir??z,withAlphaChannel:o.withAlphaChannel??!1,useInnerProxy:o.useInnerProxy??Q});}catch(s){m.fatal(s);}}),commander.program.parse(Se());}process.once("exit",()=>electron.app.quit());qe("app",async(t,e)=>{try{Ie.forEach(r=>electron.app.commandLine.appendSwitch(r)),electron.app.dock?.hide(),await electron.app.whenReady(),await je(t,e);}finally{electron.app.quit();}});
//# sourceMappingURL=app.cjs.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3RzdXBAOC41LjErM2YyOWI5MDQzN2QwMDFhZC9ub2RlX21vZHVsZXMvdHN1cC9hc3NldHMvY2pzX3NoaW1zLmpzIiwiLi4vLi4vc3JjL2Jhc2UvYmFzZWRpci50cyIsIi4uLy4uL3NyYy9iYXNlL2Vudi50cyIsIi4uLy4uL3NyYy9iYXNlL3BhcnNlci50cyIsIi4uLy4uL3NyYy9iYXNlL2NvbnN0YW50cy50cyIsIi4uLy4uL3NyYy9iYXNlL2xvZ2dpbmcudHMiLCIuLi8uLi9zcmMvYmFzZS9od2FjY2VsLnRzIiwiLi4vLi4vc3JjL2Jhc2UvcHJvY2Vzcy50cyIsIi4uLy4uL3NyYy9iYXNlL2VsZWN0cm9uLnRzIiwiLi4vLi4vc3JjL3J1c3QvbGliLnRzIiwiLi4vLi4vc3JjL2Jhc2UvZnJhbWVfc3luYy50cyIsIi4uLy4uL3NyYy9iYXNlL2ltYWdlLnRzIiwiLi4vLi4vc3JjL2Jhc2UvaHRtbF9jaGVjay50cyIsIi4uLy4uL3NyYy9iYXNlL3Byb3h5LnRzIiwiLi4vLi4vc3JjL2Jhc2UvdGltaW5nLnRzIiwiLi4vLi4vc3JjL2Jhc2UvcmV0cnkudHMiLCIuLi8uLi9zcmMvYmFzZS93aW5kb3cudHMiLCIuLi8uLi9zcmMvYmFzZS9yZWNvcmQudHMiLCIuLi8uLi9zcmMvYmFzZS9ub2Vyci50cyIsIi4uLy4uL3NyYy9iYXNlL3NjaGVtYS50cyIsIi4uLy4uL3NyYy9jb21tb24udHMiLCIuLi8uLi9zcmMvYXBwLnRzIl0sIm5hbWVzIjpbImdldEltcG9ydE1ldGFVcmwiLCJpbXBvcnRNZXRhVXJsIiwiYmFzZWRpciIsImRpcm5hbWUiLCJmaWxlVVJMVG9QYXRoIiwicGVudiIsIm5hbWUiLCJwYXJzZXIiLCJkZWZhdWx0VmFsdWUiLCJwYXJzZU51bWJlciIsInZhbHVlIiwibnVtIiwicHVwQXBwU2VhcmNoUGF0aHMiLCJqb2luIiwiZXhpc3RzU3luYyIsImVudiIsInB1cExvZ0xldmVsIiwicHVwVXNlSW5uZXJQcm94eSIsIkRFQlVHIiwiSU5GTyIsIldBUk4iLCJFUlJPUiIsIkZBVEFMIiwic3RhY2tIb29rIiwidGFyZ2V0IiwiX2NvbnRleHQiLCJtZXNzYWdlcyIsInByb2Nlc3NlZCIsIm1zZyIsIl9mYXRhbF9kZWMiLCJfZXJyb3JfZGVjIiwiX3dhcm5fZGVjIiwiX2luZm9fZGVjIiwiX2RlYnVnX2RlYyIsIl9pbml0IiwiTG9nZ2VyIiwiX19ydW5Jbml0aWFsaXplcnMiLCJfX3B1YmxpY0ZpZWxkIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibWVzc2FnZSIsInByb2MiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmF0YWwiLCJkaXNwYXRjaCIsImRhdGEiLCJlcnIiLCJjb2RlIiwic2lnbmFsIiwicmVhc29uIiwiX19kZWNvcmF0b3JTdGFydCIsIl9fZGVjb3JhdGVFbGVtZW50IiwiX19kZWNvcmF0b3JNZXRhZGF0YSIsImxvZ2dlciIsIlRBRyIsImRldGVjdCIsImNvbnRyb2xsZXJzIiwiZ3JhcGhpY3MiLCJjIiwiZ3B1IiwiUFVQX0FSR1NfS0VZIiwicGFyZ3MiLCJhcmd2IiwicHJpdiIsImFyZyIsImFyZ3MiLCJFTEVDVFJPTl9PUFRTX0JBU0UiLCJFTEVDVFJPTl9PUFRTIiwicGxhdGZvcm0iLCJhcmNoIiwicnVzdFBhdGgiLCJuYXRpdmVTZWFyY2hQYXRocyIsIm1vZCIsIl9fcmVxdWlyZSIsIkZpeGVkQnVmZmVyV3JpdGVyIiwiYnVpbGRXcmFwcGVySFRNTCIsInRhcmdldFVSTCIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsImRlY29kZVRpbWVzdGFtcCIsImJpdG1hcCIsIm1hcmtlclJvdyIsInRpbWVzdGFtcCIsImkiLCJwaXhlbElkeCIsImJpdCIsInN0YXJ0U3luYyIsImNkcCIsInN0b3BTeW5jIiwiaXNFbXB0eSIsImltYWdlIiwiU1VQUE9SVEVEX1BST1RPQ09MUyIsIlNPVVJDRV9QQVRURVJOIiwiY2hlY2tIVE1MIiwic291cmNlIiwicHJvdG9jb2wiLCJtYXAiLCJwcm94aWVkVXJsIiwidXJsIiwicGFyc2VkIiwiVVJMIiwiZW5hYmxlUHJveHkiLCJzZXNzaW9uIiwiZGV0YWlscyIsImNhbGxiYWNrIiwicHJveGllZCIsInNsZWVwIiwibXMiLCJ1c2VSZXRyeSIsImZuIiwibWF4QXR0ZW1wdHMiLCJ0aW1lb3V0IiwidGltZW91dEVycm9yIiwiYXR0ZW1wdCIsInByb21pc2VzIiwic2V0VGltZW91dCIsImUiLCJ3YWl0Rm9yRmluaXNoIiwid2luIiwiYWN0aW9uIiwiZG9uZSIsIl9lIiwiZGVzYyIsImV4aXRDb2RlIiwib3BlbldpbmRvdyIsIndpbnMiLCJvcHRpb25zIiwidXNlSW5uZXJQcm94eSIsInJlc3BvbnNlSGVhZGVycyIsInNyYyIsIkJyb3dzZXJXaW5kb3ciLCJ3IiwibGV2ZWwiLCJ3cmFwcGVySFRNTCIsImRhdGFVUkwiLCJsb2FkV2luZG93IiwicmVjb3JkIiwib3V0RGlyIiwiZnBzIiwiZHVyYXRpb24iLCJta2RpciIsImJncmFQYXRoIiwidG90YWwiLCJmcmFtZUludGVydmFsIiwiYnVmZmVyU2l6ZSIsIndyaXRlciIsIndyaXR0ZW4iLCJsYXN0V3JpdHRlblRpbWUiLCJwcm9ncmVzcyIsImZyYW1lRXJyb3IiLCJyZXNvbHZlciIsInJlamVjdGVyIiwic2NoZWR1bGVXcml0ZSIsImJ1ZmZlciIsInBhaW50IiwiX3IiLCJjdXJyZW50VGltZSIsImJ5dGVzUGVyUm93IiwiY3JvcHBlZCIsInRpbWVTaW5jZUxhc3RGcmFtZSIsImZyYW1lc1RvSW5zZXJ0IiwibmV3UHJvZ3Jlc3MiLCJyIiwiaiIsInJlc3VsdCIsIndyaXRlRmlsZSIsIm5vZXJyIiwicmV0IiwiREVGQVVMVF9XSURUSCIsIkRFRkFVTFRfSEVJR0hUIiwiREVGQVVMVF9GUFMiLCJERUZBVUxUX0RVUkFUSU9OIiwiREVGQVVMVF9PVVRfRElSIiwieiIsIm1ha2VDTEkiLCJwcm9ncmFtIiwib3B0cyIsImFwcCIsIm8iXSwibWFwcGluZ3MiOiJ5bkRBS0EsSUFBTUEsRUFBQUEsQ0FBbUIsSUFDdkIsT0FB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QUFBLENBQzNDLGFBQUEsQ0FBZUEsRUFBSyxhQUFBLEVBQWlCbkssQ0FDdkMsQ0FBQyxFQUNILE9BQVN1RyxDQUFBQSxDQUFHLENBQ1ZoRSxDQUFBQSxDQUFPLEtBQUEsQ0FBTWdFLENBQUMsRUFDaEIsQ0FDRixDQUFDLENBQUEsQ0FDSDJELGtCQUFRLEtBQUEsQ0FBTW5ILEVBQUFBLEVBQU8sRUFDdkIsQ0M5Q0EsUUFBUSxJQUFBLENBQUssTUFBQSxDQUFRLElBQU1xSCxZQUFBQSxDQUFJLE1BQU0sQ0FBQSxDQUVyQ0gsRUFBQUEsQ0FBUSxLQUFBLENBQU8sTUFBT2hGLENBQUFBLENBQVFnQyxDQUFBQSxHQUFZLENBQ3hDLEdBQUksQ0FDRjVELEVBQUFBLENBQWMsT0FBQSxDQUFTZ0gsR0FBTUQsWUFBQUEsQ0FBSSxXQUFBLENBQVksYUFBYUMsQ0FBQyxDQUFDLENBQUEsQ0FDNURELFlBQUFBLENBQUksTUFBTSxJQUFBLEVBQUssQ0FDZixNQUFNQSxZQUFBQSxDQUFJLFNBQUEsR0FDVixNQUFNekMsRUFBQUEsQ0FBTzFDLENBQUFBLENBQVFnQyxDQUFPLEVBQzlCLENBQUEsT0FBRSxDQUNBbUQsYUFBSSxJQUFBLEdBQ04sQ0FDRixDQUFDLENBQUEiLCJmaWxlIjoiYXBwLmNqcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNoaW0gZ2xvYmFscyBpbiBjanMgYnVuZGxlXG4vLyBUaGVyZSdzIGEgd2VpcmQgYnVnIHRoYXQgZXNidWlsZCB3aWxsIGFsd2F5cyBpbmplY3QgaW1wb3J0TWV0YVVybFxuLy8gaWYgd2UgZXhwb3J0IGl0IGFzIGBjb25zdCBpbXBvcnRNZXRhVXJsID0gLi4uIF9fZmlsZW5hbWUgLi4uYFxuLy8gQnV0IHVzaW5nIGEgZnVuY3Rpb24gd2lsbCBub3QgY2F1c2UgdGhpcyBpc3N1ZVxuXG5jb25zdCBnZXRJbXBvcnRNZXRhVXJsID0gKCkgPT4gXG4gIHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIiBcbiAgICA/IG5ldyBVUkwoYGZpbGU6JHtfX2ZpbGVuYW1lfWApLmhyZWYgXG4gICAgOiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpIFxuICAgICAgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyBcbiAgICAgIDogbmV3IFVSTChcIm1haW4uanNcIiwgZG9jdW1lbnQuYmFzZVVSSSkuaHJlZjtcblxuZXhwb3J0IGNvbnN0IGltcG9ydE1ldGFVcmwgPSAvKiBAX19QVVJFX18gKi8gZ2V0SW1wb3J0TWV0YVVybCgpXG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzI1LlxuXG5pbXBvcnQgeyBkaXJuYW1lIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tIFwidXJsXCI7XG5cbmV4cG9ydCBjb25zdCBiYXNlZGlyID0gZGlybmFtZShmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCkpO1xuIiwiLy8gQ3JlYXRlZCBieSBBdXRva2FrYSAocXExOTA5Njk4NDk0QGdtYWlsLmNvbSkgb24gMjAyNi8wMi8yNS5cblxuZXhwb3J0IHR5cGUgRW52UGFyc2VyPFQ+ID0gKHZhbHVlOiB1bmtub3duKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gcGVudjxUPihuYW1lOiBzdHJpbmcsIHBhcnNlcjogRW52UGFyc2VyPFQ+LCBkZWZhdWx0VmFsdWU6IFQpOiBUO1xuZXhwb3J0IGZ1bmN0aW9uIHBlbnY8VD4oXG4gIG5hbWU6IHN0cmluZyxcbiAgcGFyc2VyOiBFbnZQYXJzZXI8VD4sXG4gIGRlZmF1bHRWYWx1ZT86IFQsXG4pOiBUIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIHBlbnY8VD4oXG4gIG5hbWU6IHN0cmluZyxcbiAgcGFyc2VyOiBFbnZQYXJzZXI8VD4sXG4gIGRlZmF1bHRWYWx1ZT86IFQsXG4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VyKHByb2Nlc3MuZW52W25hbWVdKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuIiwiLy8gQ3JlYXRlZCBieSBBdXRva2FrYSAocXExOTA5Njk4NDk0QGdtYWlsLmNvbSkgb24gMjAyNi8wMS8zMC5cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVtYmVyKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBjb25zdCBudW0gPSBOdW1iZXIodmFsdWUpO1xuICBpZiAoTnVtYmVyLmlzTmFOKG51bSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlICR7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlcmApO1xuICB9XG4gIHJldHVybiBudW07XG59XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzA5LlxuXG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGJhc2VkaXIgfSBmcm9tIFwiLi9iYXNlZGlyXCI7XG5pbXBvcnQgeyBwZW52IH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgeyBwYXJzZU51bWJlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuXG5jb25zdCBwdXBBcHBTZWFyY2hQYXRocyA9IFtcbiAgam9pbihiYXNlZGlyLCBcImNqcy9hcHAuY2pzXCIpLCAvLyBwcm9jZXNzIGZyb20gZGlzdFxuICBqb2luKGJhc2VkaXIsIFwiYXBwLmNqc1wiKSwgLy8gcHJvY2VzcyBmcm9tIGRpc3QvY2pzXG4gIGpvaW4oYmFzZWRpciwgXCIuLi8uLi9janMvYXBwLmNqc1wiKSwgLy8gcHJvY2VzcyBmcm9tIHNyY1xuXTtcbmV4cG9ydCBjb25zdCBwdXBBcHBQYXRoID0gcHVwQXBwU2VhcmNoUGF0aHMuZmluZChleGlzdHNTeW5jKSE7XG5cbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52O1xuZXhwb3J0IGNvbnN0IHB1cExvZ0xldmVsID0gcGVudihcIlBVUF9MT0dfTEVWRUxcIiwgcGFyc2VOdW1iZXIsIDIpO1xuZXhwb3J0IGNvbnN0IHB1cFVzZUlubmVyUHJveHkgPSBlbnZbXCJQVVBfVVNFX0lOTkVSX1BST1hZXCJdID09PSBcIjFcIjtcbmV4cG9ydCBjb25zdCBwdXBGRm1wZWdQYXRoID0gZW52W1wiRkZNUEVHX0JJTlwiXSA/PyBgZmZtcGVnYDtcbmV4cG9ydCBjb25zdCBwdXBEaXNhYmxlR1BVID0gZW52W1wiUFVQX0RJU0FCTEVfR1BVXCJdID09PSBcIjFcIjtcbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMDYuXG5cbmltcG9ydCB7IENoaWxkUHJvY2VzcywgdHlwZSBTZXJpYWxpemFibGUgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHsgcHVwTG9nTGV2ZWwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMb2dnZXJMaWtlIHtcbiAgZGVidWc/KHRoaXM6IHZvaWQsIC4uLm1lc3NhZ2VzOiB1bmtub3duW10pOiB2b2lkO1xuXG4gIGluZm8/KHRoaXM6IHZvaWQsIC4uLm1lc3NhZ2VzOiB1bmtub3duW10pOiB2b2lkO1xuXG4gIHdhcm4/KHRoaXM6IHZvaWQsIC4uLm1lc3NhZ2VzOiB1bmtub3duW10pOiB2b2lkO1xuXG4gIGVycm9yPyh0aGlzOiB2b2lkLCAuLi5tZXNzYWdlczogdW5rbm93bltdKTogdm9pZDtcbn1cblxuY29uc3QgREVCVUcgPSBcIjxwdXBAZGVidWc+XCI7XG5jb25zdCBJTkZPID0gXCI8cHVwQGluZm8+XCI7XG5jb25zdCBXQVJOID0gXCI8cHVwQHdhcm4+XCI7XG5jb25zdCBFUlJPUiA9IFwiPHB1cEBlcnJvcj5cIjtcbmNvbnN0IEZBVEFMID0gXCI8cHVwQGZhdGFsPlwiO1xuXG5mdW5jdGlvbiBzdGFja0hvb2sodGFyZ2V0OiBGdW5jdGlvbiwgX2NvbnRleHQ6IENsYXNzTWV0aG9kRGVjb3JhdG9yQ29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IExvZ2dlciwgLi4ubWVzc2FnZXM6IHVua25vd25bXSkge1xuICAgIGNvbnN0IHByb2Nlc3NlZCA9IG1lc3NhZ2VzLm1hcCgobXNnKSA9PiB7XG4gICAgICByZXR1cm4gbXNnIGluc3RhbmNlb2YgRXJyb3IgPyAobXNnLnN0YWNrID8/IFN0cmluZyhtc2cpKSA6IG1zZztcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LmNhbGwodGhpcywgLi4ucHJvY2Vzc2VkKTtcbiAgfTtcbn1cblxuY2xhc3MgTG9nZ2VyIGltcGxlbWVudHMgTG9nZ2VyTGlrZSB7XG4gIHByaXZhdGUgX2ltcGw/OiBMb2dnZXJMaWtlO1xuXG4gIGdldCBpbXBsKCk6IExvZ2dlckxpa2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLl9pbXBsO1xuICB9XG5cbiAgc2V0IGltcGwodmFsdWU6IExvZ2dlckxpa2UpIHtcbiAgICBjb25zdCBkZWJ1ZyA9IHZhbHVlLmRlYnVnID8/IGNvbnNvbGUuZGVidWc7XG4gICAgY29uc3QgaW5mbyA9IHZhbHVlLmluZm8gPz8gY29uc29sZS5pbmZvO1xuICAgIGNvbnN0IHdhcm4gPSB2YWx1ZS53YXJuID8/IGNvbnNvbGUud2FybjtcbiAgICBjb25zdCBlcnJvciA9IHZhbHVlLmVycm9yID8/IGNvbnNvbGUuZXJyb3I7XG4gICAgdGhpcy5faW1wbCA9IHtcbiAgICAgIGRlYnVnOiBwdXBMb2dMZXZlbCA+PSAzID8gZGVidWcgOiB1bmRlZmluZWQsXG4gICAgICBpbmZvOiBwdXBMb2dMZXZlbCA+PSAyID8gaW5mbyA6IHVuZGVmaW5lZCxcbiAgICAgIHdhcm46IHB1cExvZ0xldmVsID49IDEgPyB3YXJuIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHB1cExvZ0xldmVsID49IDAgPyBlcnJvciA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbXBsID0gY29uc29sZTtcbiAgfVxuXG4gIEBzdGFja0hvb2tcbiAgZGVidWcoLi4ubWVzc2FnZXM6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuaW1wbD8uZGVidWc/LihERUJVRywgLi4ubWVzc2FnZXMpO1xuICB9XG5cbiAgQHN0YWNrSG9va1xuICBpbmZvKC4uLm1lc3NhZ2VzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmltcGw/LmluZm8/LihJTkZPLCAuLi5tZXNzYWdlcyk7XG4gIH1cblxuICBAc3RhY2tIb29rXG4gIHdhcm4oLi4ubWVzc2FnZXM6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuaW1wbD8ud2Fybj8uKFdBUk4sIC4uLm1lc3NhZ2VzKTtcbiAgfVxuXG4gIEBzdGFja0hvb2tcbiAgZXJyb3IoLi4ubWVzc2FnZXM6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuaW1wbD8uZXJyb3I/LihFUlJPUiwgLi4ubWVzc2FnZXMpO1xuICB9XG5cbiAgQHN0YWNrSG9va1xuICBmYXRhbCguLi5tZXNzYWdlczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5pbXBsPy5lcnJvcj8uKEZBVEFMLCAuLi5tZXNzYWdlcyk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaChtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBpZiAobWVzc2FnZS5zdGFydHNXaXRoKERFQlVHKSkge1xuICAgICAgdGhpcy5kZWJ1ZyhtZXNzYWdlLnNsaWNlKERFQlVHLmxlbmd0aCArIDEpKTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uuc3RhcnRzV2l0aChJTkZPKSkge1xuICAgICAgdGhpcy5pbmZvKG1lc3NhZ2Uuc2xpY2UoSU5GTy5sZW5ndGggKyAxKSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnN0YXJ0c1dpdGgoV0FSTikpIHtcbiAgICAgIHRoaXMud2FybihtZXNzYWdlLnNsaWNlKFdBUk4ubGVuZ3RoICsgMSkpO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5zdGFydHNXaXRoKEVSUk9SKSkge1xuICAgICAgdGhpcy5lcnJvcihtZXNzYWdlLnNsaWNlKEVSUk9SLmxlbmd0aCArIDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmZvKG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGF0dGFjaChwcm9jOiBDaGlsZFByb2Nlc3MsIG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRlYnVnKGAke25hbWV9LmF0dGFjaGApO1xuICAgICAgbGV0IGZhdGFsOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgY29uc3QgZGlzcGF0Y2ggPSAoZGF0YTogQnVmZmVyIHwgU2VyaWFsaXphYmxlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0c1dpdGgoRkFUQUwpKSB7XG4gICAgICAgICAgZmF0YWwgKz0gbWVzc2FnZS5zbGljZShGQVRBTC5sZW5ndGggKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvYy5zdGRlcnI/Lm9uKFwiZGF0YVwiLCBkaXNwYXRjaCk7XG4gICAgICBwcm9jLnN0ZG91dD8ub24oXCJkYXRhXCIsIGRpc3BhdGNoKTtcbiAgICAgIHByb2NcbiAgICAgICAgLm9uKFwibWVzc2FnZVwiLCBkaXNwYXRjaClcbiAgICAgICAgLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgIGZhdGFsICs9IGVyci5tZXNzYWdlO1xuICAgICAgICAgIHByb2Mua2lsbCgpO1xuICAgICAgICB9KVxuICAgICAgICAub25jZShcImNsb3NlXCIsIChjb2RlLCBzaWduYWwpID0+IHtcbiAgICAgICAgICBpZiAoY29kZSB8fCBzaWduYWwgfHwgZmF0YWwpIHtcbiAgICAgICAgICAgIGZhdGFsIHx8PSBgY29tbWFuZCBmYWlsZWQ6ICR7cHJvYy5zcGF3bmFyZ3Muam9pbihcIiBcIil9YDtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoYCR7bmFtZX0uY2xvc2VgLCB7IGNvZGUsIHNpZ25hbCwgZmF0YWwgfSk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGZhdGFsKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoYCR7bmFtZX0uY2xvc2VgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcInVuaGFuZGxlZFJlamVjdGlvblwiLCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgdGhpcy5lcnJvcihgJHtuYW1lfS51bmhhbmRsZWRgLCByZWFzb24pO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJ1bmNhdWdodEV4Y2VwdGlvbk1vbml0b3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMuZXJyb3IoYCR7bmFtZX0udW5oYW5kbGVkYCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5leHBvcnQgeyBsb2dnZXIgfTtcbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMjcuXG5cbmltcG9ydCB7IGdyYXBoaWNzIH0gZnJvbSBcInN5c3RlbWluZm9ybWF0aW9uXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmNvbnN0IFRBRyA9IFwiW0hXQWNjZWxdXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgY29uc3QgeyBjb250cm9sbGVycyB9ID0gYXdhaXQgZ3JhcGhpY3MoKTtcbiAgcmV0dXJuIGNvbnRyb2xsZXJzLnNvbWUoKGMpID0+IGMudmVuZG9yLmxlbmd0aCk7XG59XG5cbmV4cG9ydCBjb25zdCBoYXNHcHUgPSBkZXRlY3QoKS50aGVuKChncHUpID0+IHtcbiAgbG9nZ2VyLmRlYnVnKFRBRywgXCJHUFUgZGV0ZWN0ZWQ6XCIsIGdwdSk7XG4gIHJldHVybiBncHU7XG59KTtcbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDEvMzAuXG5cbmltcG9ydCB7IHNwYXduLCB0eXBlIENoaWxkUHJvY2VzcywgdHlwZSBTcGF3bk9wdGlvbnMgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG5leHBvcnQgY29uc3QgUFVQX0FSR1NfS0VZID0gXCItLXB1cC1wcml2LWFyZ3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcmdzKCkge1xuICBjb25zdCBhcmd2ID0gcHJvY2Vzcy5hcmd2O1xuICBsZXQgcHJpdiA9IGFyZ3YuZmluZCgoYXJnKSA9PiBhcmcuc3RhcnRzV2l0aChQVVBfQVJHU19LRVkpKTtcbiAgaWYgKCFwcml2KSB7XG4gICAgbG9nZ2VyLmRlYnVnKFwicHJvY2FyZ3ZcIiwgYXJndik7XG4gICAgcmV0dXJuIHByb2Nlc3MuYXJndjtcbiAgfVxuICBjb25zdCBhcmdzID0gW1wiZXhlY1wiLCAuLi5hcmd2LnNsaWNlKC0xKV07XG4gIHByaXYgPSBCdWZmZXIuZnJvbShwcml2LnNwbGl0KFwiPVwiKVsxXSEsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKCk7XG4gIGFyZ3MucHVzaCguLi5KU09OLnBhcnNlKHByaXYpKTtcbiAgbG9nZ2VyLmRlYnVnKFwicHVwYXJnc1wiLCBhcmdzKTtcbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvY2Vzc0hhbmRsZSB7XG4gIHByb2Nlc3M6IENoaWxkUHJvY2VzcztcbiAgd2FpdDogUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWMoY21kOiBzdHJpbmcsIG9wdGlvbnM/OiBTcGF3bk9wdGlvbnMpOiBQcm9jZXNzSGFuZGxlIHtcbiAgY29uc3QgcGFydHMgPSBjbWQuc3BsaXQoXCIgXCIpLmZpbHRlcigocykgPT4gcy5sZW5ndGgpO1xuICBjb25zdCBbY29tbWFuZCwgLi4uYXJnc10gPSBwYXJ0cztcbiAgaWYgKCFjb21tYW5kKSB0aHJvdyBuZXcgRXJyb3IoXCJlbXB0eSBjb21tYW5kXCIpO1xuICBjb25zdCBwcm9jID0gc3Bhd24oY29tbWFuZCwgYXJncywge1xuICAgIHN0ZGlvOiBcImluaGVyaXRcIixcbiAgICAuLi5vcHRpb25zLFxuICB9KTtcbiAgcmV0dXJuIHsgcHJvY2VzczogcHJvYywgd2FpdDogbG9nZ2VyLmF0dGFjaChwcm9jLCBjb21tYW5kKSB9O1xufVxuIiwiLy8gQ3JlYXRlZCBieSBBdXRva2FrYSAocXExOTA5Njk4NDk0QGdtYWlsLmNvbSkgb24gMjAyNi8wMi8yNS5cblxuaW1wb3J0IGVsZWN0cm9uLCB7IHR5cGUgU2l6ZSB9IGZyb20gXCJlbGVjdHJvblwiO1xuaW1wb3J0IHsgcGxhdGZvcm0gfSBmcm9tIFwicHJvY2Vzc1wiO1xuaW1wb3J0IHsgcHVwRGlzYWJsZUdQVSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaGFzR3B1IH0gZnJvbSBcIi4vaHdhY2NlbFwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0IHsgZXhlYywgUFVQX0FSR1NfS0VZIH0gZnJvbSBcIi4vcHJvY2Vzc1wiO1xuXG5jb25zdCBFTEVDVFJPTl9PUFRTX0JBU0UgPSBbXG4gIFwibm8tc2FuZGJveFwiLFxuICBcImRpc2FibGUtc2V0dWlkLXNhbmRib3hcIixcbiAgXCJkaXNhYmxlLWRldi1zaG0tdXNhZ2VcIixcbiAgXCJkaXNhYmxlLXdlYi1zZWN1cml0eVwiLFxuICBcImRpc2FibGUtc2l0ZS1pc29sYXRpb24tdHJpYWxzXCIsXG4gIFwiZGlzYWJsZS1mZWF0dXJlcz1Jc29sYXRlT3JpZ2lucyxzaXRlLXBlci1wcm9jZXNzXCIsXG4gIFwiYWxsb3ctaW5zZWN1cmUtbG9jYWxob3N0XCIsXG4gIFwiaWdub3JlLWNlcnRpZmljYXRlLWVycm9yc1wiLFxuICBcImRpc2FibGUtYmxpbmstZmVhdHVyZXM9QXV0b21hdGlvbkNvbnRyb2xsZWRcIixcbiAgXCJtdXRlLWF1ZGlvXCIsXG4gIFwiZGlzYWJsZS1leHRlbnNpb25zXCIsXG4gIFwiZGlzYWJsZS1iYWNrZ3JvdW5kLW5ldHdvcmtpbmdcIixcbiAgXCJhZGRyZXNzLWZhbWlseT1pcHY0XCIsXG4gIFwiZGlzYWJsZS1hc3luYy1kbnNcIixcbiAgXCJmb3JjZS1kZXZpY2Utc2NhbGUtZmFjdG9yPTFcIixcbiAgXCJ0cmFjZS13YXJuaW5nc1wiLFxuICBcImZvcmNlLWNvbG9yLXByb2ZpbGU9c3JnYlwiLFxuICBcImRpc2FibGUtY29sb3ItY29ycmVjdC1yZW5kZXJpbmdcIixcbiAgXCJsb2ctbGV2ZWw9M1wiLFxuICBcImlnbm9yZS1ncHUtYmxvY2tsaXN0XCIsXG4gIFwiZ3B1LXNoYWRlci1kaXNrLWNhY2hlLXNpemUta2I9NTI0Mjg4XCIsXG5dO1xuXG5leHBvcnQgY29uc3QgRUxFQ1RST05fT1BUUyA9IFtcbiAgLi4uRUxFQ1RST05fT1BUU19CQVNFLFxuICBcInVzZS1nbD1hbmdsZVwiLFxuICBcInVzZS1hbmdsZT1zd2lmdHNoYWRlclwiLFxuICBcImVuYWJsZS11bnNhZmUtc3dpZnRzaGFkZXJcIixcbl07XG5cbmV4cG9ydCBjb25zdCBFTEVDVFJPTl9PUFRTX0dQVSA9IFtcbiAgLi4uRUxFQ1RST05fT1BUU19CQVNFLFxuICBcImluLXByb2Nlc3MtZ3B1XCIsXG4gIFwidXNlLWdsPWFuZ2xlXCIsXG4gIHByb2Nlc3MucGxhdGZvcm0gPT09IFwiZGFyd2luXCJcbiAgICA/IFwidXNlLWFuZ2xlPW1ldGFsXCJcbiAgICA6IHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIlxuICAgICAgPyBcInVzZS1hbmdsZT1kM2QxMVwiXG4gICAgICA6IFwidXNlLWFuZ2xlPXZ1bGthblwiLFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBFbGVjdHJvbkFwcE9wdGlvbnMge1xuICBzaXplOiBTaXplO1xuICBhcHA6IHVua25vd247XG4gIGFyZ3M6IHVua25vd25bXTtcbn1cblxuY29uc3QgVEFHID0gXCJbRWxlY3Ryb25dXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5FbGVjdHJvbkFwcChvcHRpb25zOiBFbGVjdHJvbkFwcE9wdGlvbnMpIHtcbiAgY29uc3QgeyBzaXplLCBhcHAsIGFyZ3MgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNtZFBhcnRzID0gW107XG4gIGlmIChwbGF0Zm9ybSA9PT0gXCJsaW51eFwiKSB7XG4gICAgY21kUGFydHMucHVzaChcbiAgICAgIFwieHZmYi1ydW5cIixcbiAgICAgIFwiLS1hdXRvLXNlcnZlcm51bVwiLFxuICAgICAgYC0tc2VydmVyLWFyZ3M9Jy1zY3JlZW4gMCAke3NpemUud2lkdGh9eCR7c2l6ZS5oZWlnaHR9eDI0J2AsXG4gICAgKTtcbiAgfVxuICBjb25zdCBlbmFibGVHcHUgPSAoYXdhaXQgaGFzR3B1KSAmJiAhcHVwRGlzYWJsZUdQVTtcbiAgY29uc3Qgb3B0cyA9IGVuYWJsZUdwdSA/IEVMRUNUUk9OX09QVFNfR1BVIDogRUxFQ1RST05fT1BUUztcbiAgbG9nZ2VyLmRlYnVnKFRBRywgXCJvcHRzXCIsIG9wdHMpO1xuICBjb25zdCBlbGVjdHJvbkFyZ3MgPSBvcHRzLm1hcCgoYSkgPT4gYC0tJHthfWApO1xuICBjb25zdCBiYXNlNjRBcmdzID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkoYXJncykpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICBlbGVjdHJvbkFyZ3MucHVzaChgJHtQVVBfQVJHU19LRVl9PSR7YmFzZTY0QXJnc31gKTtcbiAgY21kUGFydHMucHVzaChlbGVjdHJvbiwgLi4uZWxlY3Ryb25BcmdzLCBhcHApO1xuICByZXR1cm4gZXhlYyhjbWRQYXJ0cy5qb2luKFwiIFwiKSwge1xuICAgIHN0ZGlvOiBbXCJpZ25vcmVcIiwgXCJwaXBlXCIsIFwicGlwZVwiXSxcbiAgICBzaGVsbDogcGxhdGZvcm0gPT09IFwibGludXhcIixcbiAgICBlbnY6IHsgLi4ucHJvY2Vzcy5lbnYsIEVMRUNUUk9OX0RJU0FCTEVfREJVUzogXCIxXCIsIFJVU1RfQkFDS1RSQUNFOiBcImZ1bGxcIiB9LFxuICB9KTtcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMTAuXG5cbmltcG9ydCB7IGV4aXN0c1N5bmMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IGpvaW4gfSBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgYmFzZWRpciB9IGZyb20gXCIuLi9iYXNlL2Jhc2VkaXJcIjtcblxuY29uc3QgeyBwbGF0Zm9ybSwgYXJjaCB9ID0gcHJvY2VzcztcblxuY29uc3QgcnVzdFBhdGggPSBgcnVzdC8ke3BsYXRmb3JtfS0ke2FyY2h9Lm5vZGVgO1xuXG5jb25zdCBuYXRpdmVTZWFyY2hQYXRocyA9IFtcbiAgam9pbihiYXNlZGlyLCBgLi4vLi4vJHtydXN0UGF0aH1gKSwgLy8gcHJvY2VzcyBzdGFydCBmcm9tIHNyY1xuICBqb2luKGJhc2VkaXIsIGAuLi8ke3J1c3RQYXRofWApLCAvLyBwcm9jZXNzIHN0YXJ0IGZyb20gZGlzdFxuXTtcbmNvbnN0IG1vZCA9IHJlcXVpcmUobmF0aXZlU2VhcmNoUGF0aHMuZmluZChleGlzdHNTeW5jKSEpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkQnVmZmVyV3JpdGVyIHtcbiAgbmV3IChcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgYnVmZmVyU2l6ZTogbnVtYmVyLFxuICAgIHF1ZXVlRGVwdGg/OiBudW1iZXIsXG4gICk6IEZpeGVkQnVmZmVyV3JpdGVyO1xuXG4gIHdyaXRlKGJ1ZmZlcjogQnVmZmVyKTogdm9pZDtcblxuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgY29uc3QgRml4ZWRCdWZmZXJXcml0ZXIgPSBtb2QuRml4ZWRCdWZmZXJXcml0ZXIgYXMgRml4ZWRCdWZmZXJXcml0ZXI7XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzA5LlxuXG5pbXBvcnQgdHlwZSB7IERlYnVnZ2VyLCBTaXplIH0gZnJvbSBcImVsZWN0cm9uXCI7XG5cbmV4cG9ydCBjb25zdCBGUkFNRV9TWU5DX01BUktFUl9XSURUSCA9IDMyO1xuZXhwb3J0IGNvbnN0IEZSQU1FX1NZTkNfTUFSS0VSX0hFSUdIVCA9IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFdyYXBwZXJIVE1MKHRhcmdldFVSTDogc3RyaW5nLCBzaXplOiBTaXplKTogc3RyaW5nIHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzaXplO1xuICByZXR1cm4gYDwhRE9DVFlQRSBodG1sPlxuPGh0bWw+XG48aGVhZD5cbiAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gIDxzdHlsZT5cbiAgICAqIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XG4gICAgaHRtbCwgYm9keSB7IHdpZHRoOiAke3dpZHRofXB4OyBoZWlnaHQ6ICR7aGVpZ2h0ICsgMX1weDsgb3ZlcmZsb3c6IGhpZGRlbjsgfVxuICAgICN0YXJnZXQgeyBcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXG4gICAgICB0b3A6IDA7IFxuICAgICAgbGVmdDogMDsgXG4gICAgICB3aWR0aDogJHt3aWR0aH1weDsgXG4gICAgICBoZWlnaHQ6ICR7aGVpZ2h0fXB4OyBcbiAgICAgIGJvcmRlcjogbm9uZTsgXG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gICAgI3N0ZWdvIHsgXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxuICAgICAgdG9wOiAke2hlaWdodH1weDsgXG4gICAgICBsZWZ0OiAwOyBcbiAgICAgIHdpZHRoOiAke3dpZHRofXB4OyBcbiAgICAgIGhlaWdodDogMXB4OyBcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWQ7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHk+XG4gIDxpZnJhbWUgaWQ9XCJ0YXJnZXRcIiBzcmM9XCIke3RhcmdldFVSTH1cIj48L2lmcmFtZT5cbiAgPGNhbnZhcyBpZD1cInN0ZWdvXCIgd2lkdGg9XCIke3dpZHRofVwiIGhlaWdodD1cIjFcIj48L2NhbnZhcz5cbiAgPHNjcmlwdD5cbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBXSURUSCA9ICR7d2lkdGh9O1xuICAgICAgY29uc3QgTUFSS0VSX1dJRFRIID0gJHtGUkFNRV9TWU5DX01BUktFUl9XSURUSH07XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlZ28nKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xuICAgICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XG4gICAgICBsZXQgcmFmSWQgPSBudWxsO1xuXG4gICAgICBmdW5jdGlvbiBlbmNvZGVUaW1lc3RhbXAodGltZXN0YW1wTXMpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YShXSURUSCwgMSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcEludCA9IE1hdGguZmxvb3IodGltZXN0YW1wTXMpID4+PiAwO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVJLRVJfV0lEVEg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGJpdCA9ICh0aW1lc3RhbXBJbnQgPj4+IChNQVJLRVJfV0lEVEggLSAxIC0gaSkpICYgMTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGJpdCA/IDI1NSA6IDA7XG4gICAgICAgICAgY29uc3QgaWR4ID0gaSAqIDQ7XG4gICAgICAgICAgZGF0YVtpZHhdID0gdmFsdWU7XG4gICAgICAgICAgZGF0YVtpZHggKyAxXSA9IHZhbHVlO1xuICAgICAgICAgIGRhdGFbaWR4ICsgMl0gPSB2YWx1ZTtcbiAgICAgICAgICBkYXRhW2lkeCArIDNdID0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gTUFSS0VSX1dJRFRIOyBpIDwgV0lEVEg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGlkeCA9IGkgKiA0O1xuICAgICAgICAgIGRhdGFbaWR4XSA9IDA7XG4gICAgICAgICAgZGF0YVtpZHggKyAxXSA9IDA7XG4gICAgICAgICAgZGF0YVtpZHggKyAyXSA9IDA7XG4gICAgICAgICAgZGF0YVtpZHggKyAzXSA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVMb29wKCkge1xuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgZW5jb2RlVGltZXN0YW1wKGVsYXBzZWQpO1xuICAgICAgICByYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVMb29wKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93Ll9fcHVwX3N0YXJ0X3JlY29yZGluZ19fID0gKCkgPT4ge1xuICAgICAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgZW5jb2RlVGltZXN0YW1wKDApO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlTG9vcCk7XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuX19wdXBfc3RvcF9yZWNvcmRpbmdfXyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJhZklkICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSWQpO1xuICAgICAgICAgIHJhZklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuICA8L3NjcmlwdD5cbjwvYm9keT5cbjwvaHRtbD5gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wKFxuICBiaXRtYXA6IEJ1ZmZlcixcbiAgc2l6ZTogU2l6ZSxcbik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2l6ZTtcbiAgaWYgKHdpZHRoIDwgRlJBTUVfU1lOQ19NQVJLRVJfV0lEVEggfHwgaGVpZ2h0IDwgMikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBtYXJrZXJSb3cgPSBoZWlnaHQgLSAxO1xuXG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IEZSQU1FX1NZTkNfTUFSS0VSX1dJRFRIOyBpKyspIHtcbiAgICBjb25zdCBwaXhlbElkeCA9IChtYXJrZXJSb3cgKiB3aWR0aCArIGkpICogNDtcbiAgICBjb25zdCByID0gYml0bWFwW3BpeGVsSWR4XSA/PyAwO1xuICAgIGNvbnN0IGJpdCA9IHIgPiAxMjcgPyAxIDogMDtcbiAgICB0aW1lc3RhbXAgPSAodGltZXN0YW1wIDw8IDEpIHwgYml0O1xuICB9XG5cbiAgdGltZXN0YW1wID0gdGltZXN0YW1wID4+PiAwO1xuXG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHRpbWVzdGFtcCkgfHwgdGltZXN0YW1wIDwgMCB8fCB0aW1lc3RhbXAgPiAxZTcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U3luYyhjZHA6IERlYnVnZ2VyKSB7XG4gIHJldHVybiBjZHAuc2VuZENvbW1hbmQoXCJSdW50aW1lLmV2YWx1YXRlXCIsIHtcbiAgICBleHByZXNzaW9uOiBgd2luZG93Ll9fcHVwX3N0YXJ0X3JlY29yZGluZ19fKClgLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BTeW5jKGNkcDogRGVidWdnZXIpIHtcbiAgcmV0dXJuIGNkcC5zZW5kQ29tbWFuZChcIlJ1bnRpbWUuZXZhbHVhdGVcIiwge1xuICAgIGV4cHJlc3Npb246IGB3aW5kb3cuX19wdXBfc3RvcF9yZWNvcmRpbmdfXygpYCxcbiAgfSk7XG59XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzA2LlxuXG5pbXBvcnQgdHlwZSB7IE5hdGl2ZUltYWdlIH0gZnJvbSBcImVsZWN0cm9uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KGltYWdlOiBOYXRpdmVJbWFnZSkge1xuICBjb25zdCBzaXplID0gaW1hZ2UuZ2V0U2l6ZSgpO1xuICBpZiAoc2l6ZS53aWR0aCA9PT0gMCB8fCBzaXplLmhlaWdodCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBpbWFnZS5pc0VtcHR5KCk7XG59XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzA5LlxuXG5jb25zdCBTVVBQT1JURURfUFJPVE9DT0xTID0gW1wiZmlsZTpcIiwgXCJodHRwOlwiLCBcImh0dHBzOlwiLCBcImRhdGE6XCJdO1xuY29uc3QgU09VUkNFX1BBVFRFUk4gPSAvXihmaWxlOnxodHRwcz86fGRhdGE6KS87XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0hUTUwoc291cmNlOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKFNPVVJDRV9QQVRURVJOLnRlc3Qoc291cmNlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHByb3RvY29sID0gc291cmNlLnNwbGl0KFwiOlwiKVswXSArIFwiOlwiO1xuICBjb25zdCBtZXNzYWdlID0gU1VQUE9SVEVEX1BST1RPQ09MUy5pbmNsdWRlcyhwcm90b2NvbClcbiAgICA/IGB1bnN1cHBvcnRlZCBwcm90b2NvbDogJHtwcm90b2NvbH0sIGV4cGVjdGVkICR7U1VQUE9SVEVEX1BST1RPQ09MUy5qb2luKFwiLCBcIil9YFxuICAgIDogYGludmFsaWQgc291cmNlIGZvcm1hdCwgZXhwZWN0ZWQgJHtTVVBQT1JURURfUFJPVE9DT0xTLmpvaW4oXCIsIFwiKX1gO1xuXG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMDkuXG5cbmltcG9ydCB7IHNlc3Npb24gfSBmcm9tIFwiZWxlY3Ryb25cIjtcbmltcG9ydCB7IFVSTCB9IGZyb20gXCJ1cmxcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuL2xvZ2dpbmdcIjtcblxuY29uc3QgVEFHID0gXCJbUHJveHldXCI7XG5cbmNvbnN0IG1hcCA9IG5ldyBNYXAoW1xuICBbYGpzc3otYm9zcy5oZHNsYi5jb21gLCBganNzei1ib3NzLmJpbGliaWxpLmNvYF0sIC8vXG4gIFtgYm9zcy5oZHNsYi5jb21gLCBgc2hqZC1ib3NzLmJpbGliaWxpLmNvYF0sXG5dKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb3hpZWRVcmwodXJsOiBzdHJpbmcpIHtcbiAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsKTtcbiAgY29uc3QgdGFyZ2V0ID0gbWFwLmdldChwYXJzZWQuaG9zdG5hbWUpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgcGFyc2VkLmhvc3RuYW1lID0gdGFyZ2V0O1xuICBwYXJzZWQucHJvdG9jb2wgPSBcImh0dHA6XCI7XG4gIHJldHVybiBwYXJzZWQudG9TdHJpbmcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVByb3h5KCkge1xuICBzZXNzaW9uLmRlZmF1bHRTZXNzaW9uLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0KChkZXRhaWxzLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IHVybCA9IGRldGFpbHMudXJsO1xuICAgIGNvbnN0IHByb3hpZWQgPSBwcm94aWVkVXJsKHVybCk7XG4gICAgaWYgKHByb3hpZWQgPT09IHVybCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHsgY2FuY2VsOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmRlYnVnKFRBRywgYCR7dXJsfSAtPiAke3Byb3hpZWR9YCk7XG4gICAgICBjYWxsYmFjayh7IGNhbmNlbDogZmFsc2UsIHJlZGlyZWN0VVJMOiBwcm94aWVkIH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAyLzA5LlxuXG5leHBvcnQgZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcmlvZGljYWwoXG4gIGNhbGxiYWNrOiAoY291bnQ6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQsXG4gIG1zOiBudW1iZXIsXG4pIHtcbiAgbGV0IHRva2VuOiBOb2RlSlMuVGltZW91dDtcbiAgbGV0IGNsb3NlZCA9IGZhbHNlO1xuICBhc3luYyBmdW5jdGlvbiB0aWNrKGNvdW50OiBudW1iZXIpIHtcbiAgICBhd2FpdCBjYWxsYmFjayhjb3VudCk7XG4gICAgaWYgKGNsb3NlZCkgcmV0dXJuO1xuICAgIHRva2VuID0gc2V0VGltZW91dCgoKSA9PiB0aWNrKGNvdW50ICsgMSksIG1zKTtcbiAgfVxuICB0b2tlbiA9IHNldFRpbWVvdXQoKCkgPT4gdGljaygwKSwgbXMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNsb3NlZCA9IHRydWU7XG4gICAgY2xlYXJUaW1lb3V0KHRva2VuKTtcbiAgfTtcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMDUuXG5cbmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tIFwidGltZXJzL3Byb21pc2VzXCI7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuL3RpbWluZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5T3B0aW9uczxBcmdzIGV4dGVuZHMgYW55W10sIFJldD4ge1xuICBmbjogKC4uLmFyZ3M6IEFyZ3MpID0+IFByb21pc2U8UmV0PjtcbiAgbWF4QXR0ZW1wdHM/OiBudW1iZXI7XG4gIHRpbWVvdXQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZXRyeTxBcmdzIGV4dGVuZHMgYW55W10sIFJldD4oe1xuICBmbixcbiAgbWF4QXR0ZW1wdHMgPSAzLFxuICB0aW1lb3V0LFxufTogUmV0cnlPcHRpb25zPEFyZ3MsIFJldD4pIHtcbiAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKGB0aW1lb3V0IG92ZXIgJHt0aW1lb3V0fW1zYCk7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiAoLi4uYXJnczogQXJncykge1xuICAgIGxldCBhdHRlbXB0ID0gMDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbZm4oLi4uYXJncyldO1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRpbWVvdXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aHJvdyB0aW1lb3V0RXJyb3I7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgIGlmIChhdHRlbXB0ID49IG1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzbGVlcChNYXRoLnBvdygyLCBhdHRlbXB0KSAqIDEwMCArIE1hdGgucmFuZG9tKCkgKiAxMDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMjcuXG5cbmltcG9ydCB7IEJyb3dzZXJXaW5kb3csIHNlc3Npb24gfSBmcm9tIFwiZWxlY3Ryb25cIjtcbmltcG9ydCB7IGJ1aWxkV3JhcHBlckhUTUwgfSBmcm9tIFwiLi9mcmFtZV9zeW5jXCI7XG5pbXBvcnQgeyBjaGVja0hUTUwgfSBmcm9tIFwiLi9odG1sX2NoZWNrXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgeyBlbmFibGVQcm94eSwgcHJveGllZFVybCB9IGZyb20gXCIuL3Byb3h5XCI7XG5pbXBvcnQgeyB1c2VSZXRyeSB9IGZyb20gXCIuL3JldHJ5XCI7XG5pbXBvcnQgdHlwZSB7IFJlY29yZE9wdGlvbnMgfSBmcm9tIFwiLi9zY2hlbWFcIjtcblxuY29uc3QgVEFHID0gXCJbV2luZG93XVwiO1xuXG5mdW5jdGlvbiB3YWl0Rm9yRmluaXNoKHdpbjogQnJvd3NlcldpbmRvdywgYWN0aW9uOiAoKSA9PiB2b2lkKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKFwibG9hZCB3aW5kb3cgdGltZW91dFwiKSksXG4gICAgICAyMF8wMDAsXG4gICAgKTtcbiAgICBjb25zdCBkb25lID0gKGVycj86IEVycm9yKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUoKTtcbiAgICB9O1xuICAgIHdpbi53ZWJDb250ZW50cy5vbmNlKFwiZGlkLWZpbmlzaC1sb2FkXCIsICgpID0+IGRvbmUoKSk7XG4gICAgd2luLndlYkNvbnRlbnRzLm9uY2UoXCJkaWQtZmFpbC1sb2FkXCIsIChfZSwgY29kZSwgZGVzYywgdXJsKSA9PlxuICAgICAgZG9uZShuZXcgRXJyb3IoYGZhaWxlZCB0byBsb2FkICR7dXJsfTogWyR7Y29kZX1dICR7ZGVzY31gKSksXG4gICAgKTtcbiAgICB3aW4ud2ViQ29udGVudHMub25jZShcInJlbmRlci1wcm9jZXNzLWdvbmVcIiwgKF9lLCB7IGV4aXRDb2RlLCByZWFzb24gfSkgPT5cbiAgICAgIGRvbmUobmV3IEVycm9yKGByZW5kZXJlciBjcmFzaGVkOiAke2V4aXRDb2RlfSwgJHtyZWFzb259YCkpLFxuICAgICk7XG4gICAgYWN0aW9uKCk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBvcGVuV2luZG93KFxuICB3aW5zOiBCcm93c2VyV2luZG93W10sXG4gIHNvdXJjZTogc3RyaW5nLFxuICBvcHRpb25zOiBSZWNvcmRPcHRpb25zLFxuKTogUHJvbWlzZTxCcm93c2VyV2luZG93PiB7XG4gIGNoZWNrSFRNTChzb3VyY2UpO1xuXG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgdXNlSW5uZXJQcm94eSB9ID0gb3B0aW9ucztcblxuICBzZXNzaW9uLmRlZmF1bHRTZXNzaW9uLndlYlJlcXVlc3Qub25IZWFkZXJzUmVjZWl2ZWQoXG4gICAgKHsgcmVzcG9uc2VIZWFkZXJzIH0sIGNhbGxiYWNrKSA9PiB7XG4gICAgICBkZWxldGUgcmVzcG9uc2VIZWFkZXJzPy5bXCJ4LWZyYW1lLW9wdGlvbnNcIl07XG4gICAgICBkZWxldGUgcmVzcG9uc2VIZWFkZXJzPy5bXCJYLUZyYW1lLU9wdGlvbnNcIl07XG4gICAgICBkZWxldGUgcmVzcG9uc2VIZWFkZXJzPy5bXCJjb250ZW50LXNlY3VyaXR5LXBvbGljeVwiXTtcbiAgICAgIGRlbGV0ZSByZXNwb25zZUhlYWRlcnM/LltcIkNvbnRlbnQtU2VjdXJpdHktUG9saWN5XCJdO1xuICAgICAgY2FsbGJhY2soeyBjYW5jZWw6IGZhbHNlLCByZXNwb25zZUhlYWRlcnMgfSk7XG4gICAgfSxcbiAgKTtcblxuICBsZXQgc3JjID0gc291cmNlO1xuICBpZiAodXNlSW5uZXJQcm94eSkge1xuICAgIHNyYyA9IHByb3hpZWRVcmwoc291cmNlKTtcbiAgICBlbmFibGVQcm94eSgpO1xuICB9XG5cbiAgY29uc3Qgd2luID0gbmV3IEJyb3dzZXJXaW5kb3coe1xuICAgIHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0ICsgMSxcbiAgICBzaG93OiBmYWxzZSxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHVuZGVmaW5lZCxcbiAgICB3ZWJQcmVmZXJlbmNlczoge1xuICAgICAgb2Zmc2NyZWVuOiB0cnVlLFxuICAgICAgYmFja2dyb3VuZFRocm90dGxpbmc6IGZhbHNlLFxuICAgICAgbm9kZUludGVncmF0aW9uOiB0cnVlLFxuICAgICAgY29udGV4dElzb2xhdGlvbjogZmFsc2UsXG4gICAgICB3ZWJTZWN1cml0eTogZmFsc2UsXG4gICAgICBhbGxvd1J1bm5pbmdJbnNlY3VyZUNvbnRlbnQ6IHRydWUsXG4gICAgICBleHBlcmltZW50YWxGZWF0dXJlczogdHJ1ZSxcbiAgICB9LFxuICB9KTtcbiAgd2lucy5zcGxpY2UoMCkuZm9yRWFjaCgodykgPT4gdy5kZXN0cm95KCkpO1xuICB3aW5zLnB1c2god2luKTtcblxuICB3aW4ud2ViQ29udGVudHMub24oXCJjb25zb2xlLW1lc3NhZ2VcIiwgKHsgbGV2ZWwsIG1lc3NhZ2UgfSkgPT4ge1xuICAgIGlmIChsZXZlbCA9PT0gXCJlcnJvclwiKSBsb2dnZXIuZXJyb3IoVEFHLCBcImNvbnNvbGU6XCIsIG1lc3NhZ2UpO1xuICB9KTtcblxuICBjb25zdCB3cmFwcGVySFRNTCA9IGJ1aWxkV3JhcHBlckhUTUwoc3JjLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gIGNvbnN0IGRhdGFVUkwgPSBgZGF0YTp0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudCh3cmFwcGVySFRNTCl9YDtcbiAgYXdhaXQgd2FpdEZvckZpbmlzaCh3aW4sICgpID0+IHdpbi5sb2FkVVJMKGRhdGFVUkwpKTtcblxuICByZXR1cm4gd2luO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFdpbmRvdyhcbiAgc291cmNlOiBzdHJpbmcsXG4gIG9wdGlvbnM6IFJlY29yZE9wdGlvbnMsXG4pOiBQcm9taXNlPEJyb3dzZXJXaW5kb3c+IHtcbiAgY29uc3Qgd2luczogQnJvd3NlcldpbmRvd1tdID0gW107XG4gIGNvbnN0IHdpbiA9IGF3YWl0IHVzZVJldHJ5KHsgZm46IG9wZW5XaW5kb3csIG1heEF0dGVtcHRzOiAyIH0pKFxuICAgIHdpbnMsXG4gICAgc291cmNlLFxuICAgIG9wdGlvbnMsXG4gICk7XG4gIGF3YWl0IHdhaXRGb3JGaW5pc2god2luLCAoKSA9PiB3aW4ucmVsb2FkKCkpO1xuICByZXR1cm4gd2luO1xufVxuIiwiLy8gQ3JlYXRlZCBieSBBdXRva2FrYSAocXExOTA5Njk4NDk0QGdtYWlsLmNvbSkgb24gMjAyNi8wMi8wOS5cblxuaW1wb3J0IHsgdHlwZSBOYXRpdmVJbWFnZSB9IGZyb20gXCJlbGVjdHJvblwiO1xuaW1wb3J0IHsgbWtkaXIsIHdyaXRlRmlsZSB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBGaXhlZEJ1ZmZlcldyaXRlciB9IGZyb20gXCIuLi9ydXN0L2xpYlwiO1xuaW1wb3J0IHsgZGVjb2RlVGltZXN0YW1wLCBzdGFydFN5bmMsIHN0b3BTeW5jIH0gZnJvbSBcIi4vZnJhbWVfc3luY1wiO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gXCIuL2ltYWdlXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgdHlwZSB7IFJlY29yZE9wdGlvbnMsIFJlY29yZFJlc3VsdCB9IGZyb20gXCIuL3NjaGVtYVwiO1xuaW1wb3J0IHsgbG9hZFdpbmRvdyB9IGZyb20gXCIuL3dpbmRvd1wiO1xuXG5jb25zdCBUQUcgPSBcIltSZWNvcmRdXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvcmQoXG4gIHNvdXJjZTogc3RyaW5nLFxuICBvcHRpb25zOiBSZWNvcmRPcHRpb25zLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKFRBRywgYHByb2dyZXNzOiAwJWApO1xuICBjb25zdCB7IG91dERpciwgZnBzLCB3aWR0aCwgaGVpZ2h0LCBkdXJhdGlvbiB9ID0gb3B0aW9ucztcblxuICBjb25zdCB3aW4gPSBhd2FpdCBsb2FkV2luZG93KHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgYXdhaXQgbWtkaXIob3V0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICBjb25zdCBjZHAgPSB3aW4ud2ViQ29udGVudHMuZGVidWdnZXI7XG4gIGNkcC5hdHRhY2goXCIxLjNcIik7XG5cbiAgd2luLndlYkNvbnRlbnRzLnNldEZyYW1lUmF0ZShmcHMpO1xuICBpZiAoIXdpbi53ZWJDb250ZW50cy5pc1BhaW50aW5nKCkpIHtcbiAgICB3aW4ud2ViQ29udGVudHMuc3RhcnRQYWludGluZygpO1xuICB9XG5cbiAgY29uc3QgYmdyYVBhdGggPSBqb2luKG91dERpciwgXCJvdXRwdXQuYmdyYVwiKTtcbiAgY29uc3QgdG90YWwgPSBNYXRoLmNlaWwoZnBzICogZHVyYXRpb24pO1xuICBjb25zdCBmcmFtZUludGVydmFsID0gMTAwMCAvIGZwcztcbiAgY29uc3QgYnVmZmVyU2l6ZSA9IHdpZHRoICogaGVpZ2h0ICogNDtcblxuICBjb25zdCB3cml0ZXIgPSBuZXcgRml4ZWRCdWZmZXJXcml0ZXIoYmdyYVBhdGgsIGJ1ZmZlclNpemUsIGZwcyk7XG5cbiAgbGV0IHdyaXR0ZW4gPSAwO1xuICBsZXQgbGFzdFdyaXR0ZW5UaW1lOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGxldCBwcm9ncmVzcyA9IDA7XG4gIGxldCBmcmFtZUVycm9yOiBFcnJvciB8IHVuZGVmaW5lZDtcbiAgbGV0IHJlc29sdmVyOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIGxldCByZWplY3RlcjogKChyZWFzb24/OiB1bmtub3duKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBzY2hlZHVsZVdyaXRlID0gKGJ1ZmZlcjogQnVmZmVyKSA9PiB7XG4gICAgd3JpdHRlbisrO1xuICAgIHRyeSB7XG4gICAgICB3cml0ZXIud3JpdGUoYnVmZmVyKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZnJhbWVFcnJvciA/Pz0gZXJyb3IgYXMgRXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBhaW50ID0gKF9lOiB1bmtub3duLCBfcjogdW5rbm93biwgaW1hZ2U6IE5hdGl2ZUltYWdlKSA9PiB7XG4gICAgaWYgKGZyYW1lRXJyb3IpIHtcbiAgICAgIHJlamVjdGVyPy4oZnJhbWVFcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHdyaXR0ZW4gPj0gdG90YWwpIHtcbiAgICAgIHJlc29sdmVyPy4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFbXB0eShpbWFnZSkpIHJldHVybjtcblxuICAgIGNvbnN0IGJpdG1hcCA9IGltYWdlLnRvQml0bWFwKCk7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBkZWNvZGVUaW1lc3RhbXAoYml0bWFwLCBpbWFnZS5nZXRTaXplKCkpO1xuICAgIGlmIChjdXJyZW50VGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmcmFtZUVycm9yID8/PSBuZXcgRXJyb3IoYG5vIHRpbWVzdGFtcCBAICR7d3JpdHRlbn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBieXRlc1BlclJvdyA9IHdpZHRoICogNDtcbiAgICBjb25zdCBjcm9wcGVkID0gYml0bWFwLnN1YmFycmF5KDAsIGhlaWdodCAqIGJ5dGVzUGVyUm93KTtcblxuICAgIGlmIChsYXN0V3JpdHRlblRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2NoZWR1bGVXcml0ZShjcm9wcGVkKTtcbiAgICAgIGxhc3RXcml0dGVuVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RGcmFtZSA9IGN1cnJlbnRUaW1lIC0gbGFzdFdyaXR0ZW5UaW1lO1xuICAgIGlmICh0aW1lU2luY2VMYXN0RnJhbWUgPCBmcmFtZUludGVydmFsICogMC44KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRpbWVTaW5jZUxhc3RGcmFtZSA8PSBmcmFtZUludGVydmFsICogMS4yKSB7XG4gICAgICBzY2hlZHVsZVdyaXRlKGNyb3BwZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmcmFtZXNUb0luc2VydCA9IE1hdGgucm91bmQodGltZVNpbmNlTGFzdEZyYW1lIC8gZnJhbWVJbnRlcnZhbCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lc1RvSW5zZXJ0ICYmIHdyaXR0ZW4gPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgIHNjaGVkdWxlV3JpdGUoY3JvcHBlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RXcml0dGVuVGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgY29uc3QgbmV3UHJvZ3Jlc3MgPSBNYXRoLmZsb29yKCh3cml0dGVuIC8gdG90YWwpICogMTAwKTtcbiAgICBpZiAoTWF0aC5hYnMobmV3UHJvZ3Jlc3MgLSBwcm9ncmVzcykgPiAxMCkge1xuICAgICAgcHJvZ3Jlc3MgPSBuZXdQcm9ncmVzcztcbiAgICAgIGxvZ2dlci5pbmZvKFRBRywgYHByb2dyZXNzOiAke01hdGgucm91bmQocHJvZ3Jlc3MpfSVgKTtcbiAgICB9XG4gIH07XG5cbiAgd2luLndlYkNvbnRlbnRzLm9uKFwicGFpbnRcIiwgcGFpbnQpO1xuICBhd2FpdCBzdGFydFN5bmMoY2RwKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigociwgaikgPT4gKFtyZXNvbHZlciwgcmVqZWN0ZXJdID0gW3IsIGpdKSk7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgc3RvcFN5bmMoY2RwKTtcbiAgICB3aW4ud2ViQ29udGVudHMub2ZmKFwicGFpbnRcIiwgcGFpbnQpO1xuICAgIGF3YWl0IHdyaXRlci5jbG9zZSgpO1xuICB9XG5cbiAgaWYgKGZyYW1lRXJyb3IgfHwgd3JpdHRlbiA9PT0gMCkge1xuICAgIHRocm93IGZyYW1lRXJyb3IgPz8gbmV3IEVycm9yKFwibm8gZnJhbWVzIGNhcHR1cmVkXCIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQ6IFJlY29yZFJlc3VsdCA9IHsgb3B0aW9ucywgd3JpdHRlbiwgYmdyYVBhdGggfTtcbiAgICBhd2FpdCB3cml0ZUZpbGUoam9pbihvdXREaXIsIFwicmVjb3JkLmpzb25cIiksIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgIGxvZ2dlci5pbmZvKFRBRywgYHByb2dyZXNzOiAxMDAlLCAke3dyaXR0ZW59IGZyYW1lcyB3cml0dGVuYCk7XG4gIH0gZmluYWxseSB7XG4gICAgd2luLmNsb3NlKCk7XG4gIH1cbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMjQuXG5cbmV4cG9ydCBmdW5jdGlvbiBub2VycjxGbiBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55LCBEPihcbiAgZm46IEZuLFxuICBkZWZhdWx0VmFsdWU6IEQsXG4pOiAoLi4uYXJnczogUGFyYW1ldGVyczxGbj4pID0+IFJldHVyblR5cGU8Rm4+IHwgRCB7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXQgPSBmbiguLi5hcmdzKTtcbiAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiByZXQuY2F0Y2goKCkgPT4gZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfTtcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMDYuXG5cbmltcG9ydCB0eXBlIHsgU2l6ZSB9IGZyb20gXCJlbGVjdHJvblwiO1xuaW1wb3J0IHogZnJvbSBcInpvZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU3BlYyB7XG4gIGZwczogbnVtYmVyO1xuICBmcmFtZXM6IG51bWJlcjtcbiAgc2l6ZTogU2l6ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaWRlb0ZpbGVzIHtcbiAgbXA0Pzogc3RyaW5nO1xuICB3ZWJtPzogc3RyaW5nO1xuICBtb3Y/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9GaWxlc1dpdGhDb3ZlciBleHRlbmRzIFZpZGVvRmlsZXMge1xuICBjb3Zlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9XSURUSCA9IDE5MjA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9IRUlHSFQgPSAxMDgwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRlBTID0gMzA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9EVVJBVElPTiA9IDU7XG5leHBvcnQgY29uc3QgREVGQVVMVF9PVVRfRElSID0gXCJvdXRcIjtcblxuZXhwb3J0IGNvbnN0IFJlY29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZHVyYXRpb246IHpcbiAgICAubnVtYmVyKClcbiAgICAub3B0aW9uYWwoKVxuICAgIC5kZWZhdWx0KERFRkFVTFRfRFVSQVRJT04pXG4gICAgLmRlc2NyaWJlKFwiUmVjb3JkaW5nIGR1cmF0aW9uIGluIHNlY29uZHNcIiksXG4gIHdpZHRoOiB6Lm51bWJlcigpLm9wdGlvbmFsKCkuZGVmYXVsdChERUZBVUxUX1dJRFRIKS5kZXNjcmliZShcIlZpZGVvIHdpZHRoXCIpLFxuICBoZWlnaHQ6IHpcbiAgICAubnVtYmVyKClcbiAgICAub3B0aW9uYWwoKVxuICAgIC5kZWZhdWx0KERFRkFVTFRfSEVJR0hUKVxuICAgIC5kZXNjcmliZShcIlZpZGVvIGhlaWdodFwiKSxcbiAgZnBzOiB6Lm51bWJlcigpLm9wdGlvbmFsKCkuZGVmYXVsdChERUZBVUxUX0ZQUykuZGVzY3JpYmUoXCJGcmFtZXMgcGVyIHNlY29uZFwiKSxcbiAgd2l0aEFscGhhQ2hhbm5lbDogelxuICAgIC5ib29sZWFuKClcbiAgICAub3B0aW9uYWwoKVxuICAgIC5kZWZhdWx0KGZhbHNlKVxuICAgIC5kZXNjcmliZShcIk91dHB1dCB3aXRoIGFscGhhIGNoYW5uZWxcIiksXG4gIG91dERpcjogelxuICAgIC5zdHJpbmcoKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLmRlZmF1bHQoREVGQVVMVF9PVVRfRElSKVxuICAgIC5kZXNjcmliZShcIk91dHB1dCBkaXJlY3RvcnlcIiksXG4gIHVzZUlubmVyUHJveHk6IHpcbiAgICAuYm9vbGVhbigpXG4gICAgLm9wdGlvbmFsKClcbiAgICAuZGVmYXVsdChmYWxzZSlcbiAgICAuZGVzY3JpYmUoXCJVc2UgYmlsaWJpbGkgaW5uZXIgcHJveHkgZm9yIHJlc291cmNlIGFjY2Vzc1wiKSxcbn0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZE9wdGlvbnMge1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgZnBzOiBudW1iZXI7XG4gIHdpdGhBbHBoYUNoYW5uZWw6IGJvb2xlYW47XG4gIG91dERpcjogc3RyaW5nO1xuICB1c2VJbm5lclByb3h5OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFJlc3VsdCB7XG4gIG9wdGlvbnM6IFJlY29yZE9wdGlvbnM7XG4gIHdyaXR0ZW46IG51bWJlcjtcbiAgYmdyYVBhdGg6IHN0cmluZztcbn1cbiIsIi8vIENyZWF0ZWQgYnkgQXV0b2tha2EgKHFxMTkwOTY5ODQ5NEBnbWFpbC5jb20pIG9uIDIwMjYvMDIvMDkuXG5cbmltcG9ydCB7IHByb2dyYW0gfSBmcm9tIFwiY29tbWFuZGVyXCI7XG5pbXBvcnQgeyBwdXBVc2VJbm5lclByb3h5IH0gZnJvbSBcIi4vYmFzZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuL2Jhc2UvbG9nZ2luZ1wiO1xuaW1wb3J0IHsgbm9lcnIgfSBmcm9tIFwiLi9iYXNlL25vZXJyXCI7XG5pbXBvcnQgeyBwYXJzZU51bWJlciB9IGZyb20gXCIuL2Jhc2UvcGFyc2VyXCI7XG5pbXBvcnQgeyBwYXJncyB9IGZyb20gXCIuL2Jhc2UvcHJvY2Vzc1wiO1xuaW1wb3J0IHtcbiAgREVGQVVMVF9EVVJBVElPTixcbiAgREVGQVVMVF9GUFMsXG4gIERFRkFVTFRfSEVJR0hULFxuICBERUZBVUxUX09VVF9ESVIsXG4gIERFRkFVTFRfV0lEVEgsXG4gIHR5cGUgUmVjb3JkT3B0aW9ucyxcbn0gZnJvbSBcIi4vYmFzZS9zY2hlbWFcIjtcblxuZXhwb3J0IHR5cGUgQ0xJQ2FsbGJhY2sgPSAoXG4gIHNvdXJjZTogc3RyaW5nLFxuICBvcHRpb25zOiBSZWNvcmRPcHRpb25zLFxuKSA9PiBQcm9taXNlPHVua25vd24+O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUNMSShuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBDTElDYWxsYmFjaykge1xuICBwcm9ncmFtXG4gICAgLm5hbWUobmFtZSlcbiAgICAuYXJndW1lbnQoXCI8c291cmNlPlwiLCBcImZpbGU6Ly8sIGh0dHAocyk6Ly8sIOaIliBkYXRhOiBVUklcIilcbiAgICAub3B0aW9uKFwiLXcsIC0td2lkdGggPG51bWJlcj5cIiwgXCLop4bpopHlrr3luqZcIiwgYCR7REVGQVVMVF9XSURUSH1gKVxuICAgIC5vcHRpb24oXCItaCwgLS1oZWlnaHQgPG51bWJlcj5cIiwgXCLop4bpopHpq5jluqZcIiwgYCR7REVGQVVMVF9IRUlHSFR9YClcbiAgICAub3B0aW9uKFwiLWYsIC0tZnBzIDxudW1iZXI+XCIsIFwi5bin546HXCIsIGAke0RFRkFVTFRfRlBTfWApXG4gICAgLm9wdGlvbihcIi10LCAtLWR1cmF0aW9uIDxudW1iZXI+XCIsIFwi5b2V5Yi25pe26ZW/77yI56eS77yJXCIsIGAke0RFRkFVTFRfRFVSQVRJT059YClcbiAgICAub3B0aW9uKFwiLW8sIC0tb3V0LWRpciA8cGF0aD5cIiwgXCLovpPlh7rnm67lvZVcIiwgYCR7REVGQVVMVF9PVVRfRElSfWApXG4gICAgLm9wdGlvbihcIi1hLCAtLXdpdGgtYWxwaGEtY2hhbm5lbFwiLCBcIui+k+WHuuWMheWQqyBhbHBoYSDpgJrpgZPnmoTop4bpopFcIiwgZmFsc2UpXG4gICAgLm9wdGlvbihcbiAgICAgIFwiLS11c2UtaW5uZXItcHJveHlcIixcbiAgICAgIFwi5L2/55SoIEIg56uZ5YaF572R5Luj55CG5Yqg6YCf6LWE5rqQ6K6/6ZeuXCIsXG4gICAgICBwdXBVc2VJbm5lclByb3h5LFxuICAgIClcbiAgICAuYWN0aW9uKGFzeW5jIChzb3VyY2U6IHN0cmluZywgb3B0cykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2FsbGJhY2soc291cmNlLCB7XG4gICAgICAgICAgd2lkdGg6IG5vZXJyKHBhcnNlTnVtYmVyLCBERUZBVUxUX1dJRFRIKShvcHRzLndpZHRoKSxcbiAgICAgICAgICBoZWlnaHQ6IG5vZXJyKHBhcnNlTnVtYmVyLCBERUZBVUxUX0hFSUdIVCkob3B0cy5oZWlnaHQpLFxuICAgICAgICAgIGZwczogbm9lcnIocGFyc2VOdW1iZXIsIERFRkFVTFRfRlBTKShvcHRzLmZwcyksXG4gICAgICAgICAgZHVyYXRpb246IG5vZXJyKHBhcnNlTnVtYmVyLCBERUZBVUxUX0RVUkFUSU9OKShvcHRzLmR1cmF0aW9uKSxcbiAgICAgICAgICBvdXREaXI6IG9wdHMub3V0RGlyID8/IERFRkFVTFRfT1VUX0RJUixcbiAgICAgICAgICB3aXRoQWxwaGFDaGFubmVsOiBvcHRzLndpdGhBbHBoYUNoYW5uZWwgPz8gZmFsc2UsXG4gICAgICAgICAgdXNlSW5uZXJQcm94eTogb3B0cy51c2VJbm5lclByb3h5ID8/IHB1cFVzZUlubmVyUHJveHksXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2dnZXIuZmF0YWwoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIHByb2dyYW0ucGFyc2UocGFyZ3MoKSk7XG59XG4iLCIvLyBDcmVhdGVkIGJ5IEF1dG9rYWthIChxcTE5MDk2OTg0OTRAZ21haWwuY29tKSBvbiAyMDI2LzAxLzMwLlxuXG5pbXBvcnQgeyBhcHAgfSBmcm9tIFwiZWxlY3Ryb25cIjtcbmltcG9ydCB7IEVMRUNUUk9OX09QVFMgfSBmcm9tIFwiLi9iYXNlL2VsZWN0cm9uXCI7XG5pbXBvcnQgeyByZWNvcmQgfSBmcm9tIFwiLi9iYXNlL3JlY29yZFwiO1xuaW1wb3J0IHsgbWFrZUNMSSB9IGZyb20gXCIuL2NvbW1vblwiO1xuXG5wcm9jZXNzLm9uY2UoXCJleGl0XCIsICgpID0+IGFwcC5xdWl0KCkpO1xuXG5tYWtlQ0xJKFwiYXBwXCIsIGFzeW5jIChzb3VyY2UsIG9wdGlvbnMpID0+IHtcbiAgdHJ5IHtcbiAgICBFTEVDVFJPTl9PUFRTLmZvckVhY2goKG8pID0+IGFwcC5jb21tYW5kTGluZS5hcHBlbmRTd2l0Y2gobykpO1xuICAgIGFwcC5kb2NrPy5oaWRlKCk7XG4gICAgYXdhaXQgYXBwLndoZW5SZWFkeSgpO1xuICAgIGF3YWl0IHJlY29yZChzb3VyY2UsIG9wdGlvbnMpO1xuICB9IGZpbmFsbHkge1xuICAgIGFwcC5xdWl0KCk7XG4gIH1cbn0pO1xuIl19